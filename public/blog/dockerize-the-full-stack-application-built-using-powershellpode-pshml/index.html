<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage"><head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="icon" href="/favicon.ico">

  <title>
  Dockerize the Full-Stack application built using PowerShell (Pode &amp; PSHTML) - Howdy,Kloudy!
  </title>
  <meta name="description" content="Introduction I have recorded the demonstration of spinning up the full-stack application built using PowerShell (Pode &amp; PSHTML). Feel free to leave your comments
Disclaimer This blog post is the output of my learning on Docker, MySQL, docker-compose, and MiniKube. So, please skip asking why not native or alternatives?. I am sharing it as a blog because of the ask that I have seen it in the REDDIT. I am an automation engineer with a decent experience in the cloud, not a software developer." />
  <meta name="author" content="Chendrayan Venkatesan" />
  <meta name="generator" content="Hugo 0.105.0"><link
    rel="stylesheet"
    href="__h_pp_l1_1_Permalink__e="
    integrity="__h_pp_l1_1_Data.Integrity__e="
  />
  
  

  <meta property="og:title" content="Dockerize the Full-Stack application built using PowerShell (Pode &amp; PSHTML)" />
<meta property="og:description" content="Introduction I have recorded the demonstration of spinning up the full-stack application built using PowerShell (Pode &amp; PSHTML). Feel free to leave your comments
Disclaimer This blog post is the output of my learning on Docker, MySQL, docker-compose, and MiniKube. So, please skip asking why not native or alternatives?. I am sharing it as a blog because of the ask that I have seen it in the REDDIT. I am an automation engineer with a decent experience in the cloud, not a software developer." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/blog/dockerize-the-full-stack-application-built-using-powershellpode-pshml/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2023-01-12T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-01-12T00:00:00+00:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Dockerize the Full-Stack application built using PowerShell (Pode &amp; PSHTML)"/>
<meta name="twitter:description" content="Introduction I have recorded the demonstration of spinning up the full-stack application built using PowerShell (Pode &amp; PSHTML). Feel free to leave your comments
Disclaimer This blog post is the output of my learning on Docker, MySQL, docker-compose, and MiniKube. So, please skip asking why not native or alternatives?. I am sharing it as a blog because of the ask that I have seen it in the REDDIT. I am an automation engineer with a decent experience in the cloud, not a software developer."/>

  <meta itemprop="name" content="Dockerize the Full-Stack application built using PowerShell (Pode &amp; PSHTML)">
<meta itemprop="description" content="Introduction I have recorded the demonstration of spinning up the full-stack application built using PowerShell (Pode &amp; PSHTML). Feel free to leave your comments
Disclaimer This blog post is the output of my learning on Docker, MySQL, docker-compose, and MiniKube. So, please skip asking why not native or alternatives?. I am sharing it as a blog because of the ask that I have seen it in the REDDIT. I am an automation engineer with a decent experience in the cloud, not a software developer."><meta itemprop="datePublished" content="2023-01-12T00:00:00+00:00" />
<meta itemprop="dateModified" content="2023-01-12T00:00:00+00:00" />
<meta itemprop="wordCount" content="1209">
<meta itemprop="keywords" content="minikube,powershell,docker-compose,," />

  
</head>
<body class="dark:bg-gray-800 dark:text-white relative flex flex-col min-h-screen"><header class="container flex justify-between md:justify-between gap-4 flex-wrap p-6 mx-auto relative">
  <a href="/" class="capitalize font-extrabold text-2xl">
    
    <img src="/howdy1.png" alt="Howdy,Kloudy!" class="h-8 max-w-full" />
    
  </a>
  <button class="mobile-menu-button md:hidden">
    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <line x1="4" y1="8" x2="20" y2="8" />
      <line x1="4" y1="16" x2="20" y2="16" />
    </svg>
  </button>
  <ul class="mobile-menu absolute z-10 px-6 pb-6 md:p-0 top-full left-0 w-full md:w-auto md:relative hidden md:flex flex-col md:flex-row items-end md:items-center gap-4 lg:gap-6 bg-white dark:bg-gray-800">

    
    <li><a href="/blog">Blog</a></li>
    
    <li><a href="/page/about/">About</a></li>
    
    <li><a href="/tags">Tags</a></li>
    

    

    
    <li class="grid place-items-center">
      <span class="open-search inline-block cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <circle cx="10" cy="10" r="7" />
          <line x1="21" y1="21" x2="15" y2="15" />
        </svg>
      </span>
    </li>
    

    
    <li class="grid place-items-center">
      <span class="toggle-dark-mode inline-block cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <circle cx="12" cy="12" r="3" />
          <line x1="12" y1="5" x2="12" y2="5.01" />
          <line x1="17" y1="7" x2="17" y2="7.01" />
          <line x1="19" y1="12" x2="19" y2="12.01" />
          <line x1="17" y1="17" x2="17" y2="17.01" />
          <line x1="12" y1="19" x2="12" y2="19.01" />
          <line x1="7" y1="17" x2="7" y2="17.01" />
          <line x1="5" y1="12" x2="5" y2="12.01" />
          <line x1="7" y1="7" x2="7" y2="7.01" />
        </svg>
      </span>
    </li>
    
  </ul>
</header>
<main class="flex-1">




<div class="relative max-w-5xl mx-auto px-4">
  <img src="/2023/01/container.jpg" class="rounded-lg shadow-sm w-full object-contain" />
  
  <div
    class="absolute top-4 right-8 rounded shadow bg-white text-gray-900 dark:bg-gray-900 dark:text-white px-2 py-0.5">
    
  
    January 12, 2023
  


  </div>
  
</div>


<article class="prose lg:prose-lg mx-auto my-8 dark:prose-dark px-4">

  <h1 class="text-2xl font-bold mb-2">Dockerize the Full-Stack application built using PowerShell (Pode &amp; PSHTML)</h1>
  
  <h5 class="text-sm flex items-center flex-wrap">
    <svg xmlns="http://www.w3.org/2000/svg" class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5"
      stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <rect x="4" y="5" width="16" height="16" rx="2" />
      <line x1="16" y1="3" x2="16" y2="7" />
      <line x1="8" y1="3" x2="8" y2="7" />
      <line x1="4" y1="11" x2="20" y2="11" />
      <rect x="8" y="15" width="2" height="2" />
    </svg>
    Posted on 
  
    January 12, 2023
  


    
    &nbsp;&bull;&nbsp;
    
    <svg xmlns="http://www.w3.org/2000/svg" class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5"
      stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <circle cx="12" cy="12" r="9" />
      <polyline points="12 7 12 12 15 15" />
    </svg>
    6&nbsp;minutes
    &nbsp;&bull;
    <svg xmlns="http://www.w3.org/2000/svg" class="mx-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5"
      stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
      <path d="M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
      <line x1="3" y1="6" x2="3" y2="19" />
      <line x1="12" y1="6" x2="12" y2="19" />
      <line x1="21" y1="6" x2="21" y2="19" />
    </svg>

    1209&nbsp;words

    &nbsp;
    <div class="views">
      <span class="views">
        <img src="https://visitor-badge.glitch.me/badge?page_id=%2fblog%2fdockerize-the-full-stack-application-built-using-powershellpode-pshml%2f" alt="Views" />
      </span>
    </div>
    
    
    
  </h5>
  

  <details id="TableOfContents" class="px-4 mt-4 bg-gray-100 dark:bg-gray-700 rounded toc">
    <summary class="flex items-center font-bold py-2 px-4 cursor-pointer justify-between select-none text-black dark:text-white">
      <span>Table of contents</span>
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <polyline points="6 9 12 15 18 9"></polyline>
     </svg>
    </summary>

    <ul class="mt-2 pb-4">
        

        
        <li>
        <a href="#introduction">Introduction</a>
        

        
        <ul>
            <li>
        <a href="#disclaimer">Disclaimer</a>
        

        
        </li><li>
        <a href="#prerequisites">Prerequisites</a>
        

        
        </li></ul>
      </li><li>
        <a href="#run-a-full-stack-application-locally-windows-box">Run a Full-Stack Application Locally (Windows Box)</a>
        

        
        <ul>
            <li>
        <a href="#high-level-diagram">High-Level Diagram</a>
        

        
        </li></ul>
      </li><li>
        <a href="#solution">Solution</a>
        

        
        <ul>
            <li>
        <a href="#project-structure">Project Structure</a>
        

        
        </li><li>
        <a href="#script-to-create-a-mysql-table">Script to Create a MYSQL Table</a>
        

        
        </li><li>
        <a href="#user-interface-web-front-end">User Interface (Web Front-End)</a>
        

        
        </li></ul>
      </li><li>
        <a href="#docker-compose">Docker Compose</a>
        

        
        </li><li>
        <a href="#run-on-minikube">Run on Minikube</a>
        

        
        </li><li>
        <a href="#summary">Summary</a>
        </li></ul>
  </details>

  <h2 id="introduction">Introduction</h2>
<p>I have recorded the demonstration of spinning up the full-stack application built using PowerShell (Pode &amp; PSHTML). Feel free to leave your comments</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/DZvLmIUGNno" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<h3 id="disclaimer">Disclaimer</h3>
<ul>
<li>This blog post is the output of my learning on Docker, MySQL, docker-compose, and MiniKube. So, please skip asking <code>why not native or alternatives?</code>. I am sharing it as a blog because of the ask that I have seen it in the <a href="https://www.reddit.com/r/PowerShell/comments/gq0bl0/discussion_can_powershell_be_used_for_fullstack/" target="_blank" rel="noopener">REDDIT</a>
.</li>
<li>I am an automation engineer with a decent experience in the cloud, not a software developer.</li>
<li>We don&rsquo;t talk about Pode, PSHTML &amp; SimplySQL (PowerShell Modules)</li>
<li>There is a big room for improvement. Consider this blog post as a first step to dockerize the PowerShell app to run with docker-compose and then on Minikube.</li>
</ul>
<h3 id="prerequisites">Prerequisites</h3>
<ul>
<li>Docker Desktop for Windows</li>
<li>PowerShell
<ul>
<li>Pode</li>
<li>PSHTML</li>
<li>SimplySQL</li>
</ul>
</li>
<li>MetroUI (Fontend toolkit)</li>
<li>Minikube</li>
<li>Kubectl (optional)</li>
</ul>
<h2 id="run-a-full-stack-application-locally-windows-box">Run a Full-Stack Application Locally (Windows Box)</h2>
<p>We aren&rsquo;t building an application with real-time data that visually pleases the end users. Instead, we intend to collect and store the employee information in the MySQL table. So, let us build a simple page showing useless data and a form to get employee information and insert it in the employee table as a row with an auto incremental employee id.</p>
<h3 id="high-level-diagram">High-Level Diagram</h3>
<p><img src="/2023/01/FS.png" alt="Ful-Stack"></p>
<h2 id="solution">Solution</h2>
<p>First, decide the data you need to collect and store in the MySQL table. In my case, I need to get the user&rsquo;s first name, last name, city, country and mobile number.</p>
<h3 id="project-structure">Project Structure</h3>
<p>📦howdykloudy<br>
┣ 📂app<br>
┃ ┣ 📂views<br>
┃ ┃ ┗ 📜index.ps1<br>
┃ ┣ 📜app.ps1<br>
┃ ┗ 📜Dockerfile<br>
┣ 📂dump<br>
┃ ┗ 📜dump.sql<br>
┣ 📜docker-compose.yml<br>
┣ 📜minikube-deployment.yml<br>
┗ 📜README.md</p>
<ul>
<li><code>howdykloudy</code> is the project root folder.</li>
<li><code>app</code> is the <code>folder</code> to store the user interface code.</li>
<li><code>app\views</code> to hold the <code>index.ps1</code> file.</li>
<li><code>app\app.ps1</code> is the code to start the webserver.</li>
<li><code>Dockerfile</code> – is to dockerize the user interface.</li>
<li><code>dump/dump.sql</code> – Is the file to create a database table</li>
<li><code>docker-compose.yml</code> - Is the file is to bring up two interconnected containers.</li>
</ul>
<h3 id="script-to-create-a-mysql-table">Script to Create a MYSQL Table</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#ff79c6">create</span> <span style="color:#ff79c6">table</span> employee (
</span></span><span style="display:flex;"><span>    id <span style="color:#8be9fd;font-style:italic">int</span> <span style="color:#ff79c6">not</span> <span style="color:#ff79c6">null</span> AUTO_INCREMENT <span style="color:#ff79c6">primary</span> <span style="color:#ff79c6">key</span>,
</span></span><span style="display:flex;"><span>    first_name <span style="color:#8be9fd;font-style:italic">varchar</span>(<span style="color:#bd93f9">255</span>),
</span></span><span style="display:flex;"><span>    last_name <span style="color:#8be9fd;font-style:italic">varchar</span>(<span style="color:#bd93f9">255</span>),
</span></span><span style="display:flex;"><span>    city <span style="color:#8be9fd;font-style:italic">varchar</span>(<span style="color:#bd93f9">255</span>),
</span></span><span style="display:flex;"><span>    country <span style="color:#8be9fd;font-style:italic">varchar</span>(<span style="color:#bd93f9">255</span>),
</span></span><span style="display:flex;"><span>    mobile <span style="color:#8be9fd;font-style:italic">varchar</span>(<span style="color:#bd93f9">255</span>)
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><p><code>id int not null AUTO_INCREMENT primary key</code> - For each record insertion, we see the ID value incremented by 1. For example, the first record in the database looks like below</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>FirstName</th>
<th>LastName</th>
<th>City</th>
<th>Country</th>
<th>Mobile</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Chen</td>
<td>V</td>
<td>Bengaluru</td>
<td>India</td>
<td>+91 0123456789</td>
</tr>
</tbody>
</table>
<p>and the subsequent calls continue to store records as illustrated below</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>FirstName</th>
<th>LastName</th>
<th>City</th>
<th>Country</th>
<th>Mobile</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Chen</td>
<td>V</td>
<td>Bengaluru</td>
<td>India</td>
<td>+91 0123456789</td>
</tr>
<tr>
<td>2</td>
<td>Chen</td>
<td>V</td>
<td>Bengaluru</td>
<td>India</td>
<td>+91 0123456789</td>
</tr>
</tbody>
</table>
<h3 id="user-interface-web-front-end">User Interface (Web Front-End)</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-PowerShell" data-lang="PowerShell"><span style="display:flex;"><span><span style="color:#6272a4">#region - Form</span>
</span></span><span style="display:flex;"><span>form -action <span style="color:#f1fa8c">&#34;/formdata&#34;</span> -method <span style="color:#f1fa8c">&#34;post&#34;</span> -enctype <span style="color:#f1fa8c">&#39;multipart/form-data&#39;</span> -content {
</span></span><span style="display:flex;"><span>    Div -Class <span style="color:#f1fa8c">&#39;form-group&#39;</span> -Content {
</span></span><span style="display:flex;"><span>        h5 -Content <span style="color:#f1fa8c">&#39;Employee Form&#39;</span> -Style <span style="color:#f1fa8c">&#39;text-align:center&#39;</span>
</span></span><span style="display:flex;"><span>        input -type text -name <span style="color:#f1fa8c">&#39;first_name&#39;</span> -Attributes @{<span style="color:#f1fa8c">&#39;data-role&#39;</span> = <span style="color:#f1fa8c">&#34;materialinput&#34;</span>; <span style="color:#f1fa8c">&#39;data-icon&#39;</span> = <span style="color:#f1fa8c">&#34;&lt;span class=mif-first&gt;&#34;</span>; <span style="color:#f1fa8c">&#39;data-cls-line&#39;</span> = <span style="color:#f1fa8c">&#39;bg-darkCyan&#39;</span>; <span style="color:#f1fa8c">&#39;data-cls-label&#39;</span> = <span style="color:#f1fa8c">&#39;fg-darkCyan&#39;</span>; <span style="color:#f1fa8c">&#39;data-cls-informer&#39;</span> = <span style="color:#f1fa8c">&#39;fg-darkCyan&#39;</span>; <span style="color:#f1fa8c">&#39;data-cls-icon&#39;</span> = <span style="color:#f1fa8c">&#39;fg-darkCyan&#39;</span> ; <span style="color:#f1fa8c">&#39;placeholder&#39;</span> = <span style="color:#f1fa8c">&#39;First Name&#39;</span> } -required
</span></span><span style="display:flex;"><span>        input -type text -name <span style="color:#f1fa8c">&#39;last_name&#39;</span> -Attributes @{<span style="color:#f1fa8c">&#39;data-role&#39;</span> = <span style="color:#f1fa8c">&#34;materialinput&#34;</span>; <span style="color:#f1fa8c">&#39;data-icon&#39;</span> = <span style="color:#f1fa8c">&#34;&lt;span class=mif-last&gt;&#34;</span>; <span style="color:#f1fa8c">&#39;data-cls-line&#39;</span> = <span style="color:#f1fa8c">&#39;bg-darkCyan&#39;</span>; <span style="color:#f1fa8c">&#39;data-cls-label&#39;</span> = <span style="color:#f1fa8c">&#39;fg-darkCyan&#39;</span>; <span style="color:#f1fa8c">&#39;data-cls-informer&#39;</span> = <span style="color:#f1fa8c">&#39;fg-darkCyan&#39;</span>; <span style="color:#f1fa8c">&#39;data-cls-icon&#39;</span> = <span style="color:#f1fa8c">&#39;fg-darkCyan&#39;</span> ; <span style="color:#f1fa8c">&#39;placeholder&#39;</span> = <span style="color:#f1fa8c">&#39;Last Name&#39;</span> } -required
</span></span><span style="display:flex;"><span>        input -type text -name <span style="color:#f1fa8c">&#39;city&#39;</span> -Attributes @{<span style="color:#f1fa8c">&#39;data-role&#39;</span> = <span style="color:#f1fa8c">&#34;materialinput&#34;</span>; <span style="color:#f1fa8c">&#39;data-icon&#39;</span> = <span style="color:#f1fa8c">&#34;&lt;span class=mif-location-city&gt;&#34;</span>; <span style="color:#f1fa8c">&#39;data-cls-line&#39;</span> = <span style="color:#f1fa8c">&#39;bg-darkCyan&#39;</span>; <span style="color:#f1fa8c">&#39;data-cls-label&#39;</span> = <span style="color:#f1fa8c">&#39;fg-darkCyan&#39;</span>; <span style="color:#f1fa8c">&#39;data-cls-informer&#39;</span> = <span style="color:#f1fa8c">&#39;fg-darkCyan&#39;</span>; <span style="color:#f1fa8c">&#39;data-cls-icon&#39;</span> = <span style="color:#f1fa8c">&#39;fg-darkCyan&#39;</span> ; <span style="color:#f1fa8c">&#39;placeholder&#39;</span> = <span style="color:#f1fa8c">&#39;City&#39;</span> } -required
</span></span><span style="display:flex;"><span>        input -type text -name <span style="color:#f1fa8c">&#39;country&#39;</span> -Attributes @{<span style="color:#f1fa8c">&#39;data-role&#39;</span> = <span style="color:#f1fa8c">&#34;materialinput&#34;</span>; <span style="color:#f1fa8c">&#39;data-icon&#39;</span> = <span style="color:#f1fa8c">&#34;&lt;span class=mif-flag&gt;&#34;</span>; <span style="color:#f1fa8c">&#39;data-cls-line&#39;</span> = <span style="color:#f1fa8c">&#39;bg-darkCyan&#39;</span>; <span style="color:#f1fa8c">&#39;data-cls-label&#39;</span> = <span style="color:#f1fa8c">&#39;fg-darkCyan&#39;</span>; <span style="color:#f1fa8c">&#39;data-cls-informer&#39;</span> = <span style="color:#f1fa8c">&#39;fg-darkCyan&#39;</span>; <span style="color:#f1fa8c">&#39;data-cls-icon&#39;</span> = <span style="color:#f1fa8c">&#39;fg-darkCyan&#39;</span> ; <span style="color:#f1fa8c">&#39;placeholder&#39;</span> = <span style="color:#f1fa8c">&#39;Country&#39;</span> } -required
</span></span><span style="display:flex;"><span>        input -type tel -name <span style="color:#f1fa8c">&#39;mobile&#39;</span> -Attributes @{<span style="color:#f1fa8c">&#39;data-role&#39;</span> = <span style="color:#f1fa8c">&#34;materialinput&#34;</span>; <span style="color:#f1fa8c">&#39;data-icon&#39;</span> = <span style="color:#f1fa8c">&#34;&lt;span class=mif-mobile&gt;&#34;</span>; <span style="color:#f1fa8c">&#39;data-cls-line&#39;</span> = <span style="color:#f1fa8c">&#39;bg-darkCyan&#39;</span>; <span style="color:#f1fa8c">&#39;data-cls-label&#39;</span> = <span style="color:#f1fa8c">&#39;fg-darkCyan&#39;</span>; <span style="color:#f1fa8c">&#39;data-cls-informer&#39;</span> = <span style="color:#f1fa8c">&#39;fg-darkCyan&#39;</span>; <span style="color:#f1fa8c">&#39;data-cls-icon&#39;</span> = <span style="color:#f1fa8c">&#39;fg-darkCyan&#39;</span> ; <span style="color:#f1fa8c">&#39;placeholder&#39;</span> = <span style="color:#f1fa8c">&#39;Mobile&#39;</span> } -required
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    div -class <span style="color:#f1fa8c">&#39;form-group&#39;</span> -content {
</span></span><span style="display:flex;"><span>        button -class <span style="color:#f1fa8c">&#39;button bg-darkCyan outline rounded fg-white&#39;</span> -content <span style="color:#f1fa8c">&#39;Submit&#39;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#6272a4">#endregion</span>
</span></span></code></pre></div><p>{IMAGE}</p>
<blockquote>
<p>On Submit (Insert Records into MySQL)</p>
</blockquote>
<h2 id="docker-compose">Docker Compose</h2>
<p>Docker Compose is a tool to run multi-container Docker applications. Below is the YAML definition</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-YAML" data-lang="YAML"><span style="display:flex;"><span><span style="color:#ff79c6">version</span>: <span style="color:#f1fa8c">&#39;3.8&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">networks</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">howdy_kloudy</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">name</span>: howdy_kloudy
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">services</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">mysql</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">image</span>: mysql
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">restart</span>: always
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">container_name</span>: db-mysql
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">networks</span>:
</span></span><span style="display:flex;"><span>      - howdy_kloudy
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">ports</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#bd93f9">3306</span>:<span style="color:#bd93f9">3306</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">environment</span>:
</span></span><span style="display:flex;"><span>      - MYSQL_DATABASE=local_db
</span></span><span style="display:flex;"><span>      - MYSQL_ALLOW_EMPTY_PASSWORD=yes
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">volumes</span>:
</span></span><span style="display:flex;"><span>      - ./dump:/docker-entrypoint-initdb.d
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">podeui</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">build</span>: ./app
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">image</span>: podeui
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">networks</span>:
</span></span><span style="display:flex;"><span>      - howdy_kloudy
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">ports</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#f1fa8c">&#34;3000:3000&#34;</span>
</span></span></code></pre></div><ul>
<li><code>mysql</code> - use the latest <code>mysql</code> image.</li>
<li><code>podeui</code> - Build path ./app and image name is <code>podeui</code></li>
<li><code>networks</code> - Instead of just using the default app network, you can specify your own networks with the top-level networks key (howdy_kloudy). This lets you create more complex topologies and specify custom network drivers and options. You can also use it to connect services to externally-created networks which aren’t managed by Compose. (I need this for my future use case)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-PowerShell" data-lang="PowerShell"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">PS </span>C:\Projects\howdykloudy&gt; <span style="color:#8be9fd;font-style:italic">docker-compose</span> up --build --detach
</span></span></code></pre></div><p><img src="/2023/01/OP1.png" alt="Images In Use"></p>
<p><img src="/2023/01/OP2.png" alt="Images In Use"></p>
<p>Now access the application from the local host.</p>
<blockquote>
<p>UI</p>
</blockquote>
<p><img src="/2023/01/OP3.png" alt="UI"></p>
<blockquote>
<p>Response</p>
</blockquote>
<p><img src="/2023/01/OP4.png" alt="Response"></p>
<p>Refer the records in the MySQL table</p>
<p><img src="/2023/01/OP5.png" alt="First Record"></p>
<p>Second record</p>
<p><img src="/2023/01/OP6.png" alt="Second Record"></p>
<p>Okay, it&rsquo;s working as expected! We see records are available in the table.</p>
<h2 id="run-on-minikube">Run on Minikube</h2>
<p>Nothing interesting, right? Let us add spice by running our application on Minikube. I spent a few hours establishing the connection between containers in a POD. Yeah, I know it&rsquo;s simple and easy, but for me, it&rsquo;s not. I failed to establish the connection between my UI and DB.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-YAML" data-lang="YAML"><span style="display:flex;"><span><span style="color:#ff79c6">apiVersion</span>: apps/v1
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">kind</span>: Deployment
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">metadata</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">name</span>: podeui
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">labels</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">app</span>: multi-contianer
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">replicas</span>: <span style="color:#bd93f9">1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">selector</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">matchLabels</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">app</span>: multi-contianer
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">template</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">metadata</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">labels</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">app</span>: multi-contianer
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">spec</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">containers</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#ff79c6">name</span>: podeui
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">image</span>: chenv/podeui:v3
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">ports</span>:
</span></span><span style="display:flex;"><span>            - <span style="color:#ff79c6">containerPort</span>: <span style="color:#bd93f9">3000</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">resources</span>: {}
</span></span><span style="display:flex;"><span>        - <span style="color:#ff79c6">name</span>: db-mysql
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">image</span>: mysql
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">env</span>:
</span></span><span style="display:flex;"><span>            - <span style="color:#ff79c6">name</span>: MYSQL_DATABASE
</span></span><span style="display:flex;"><span>              <span style="color:#ff79c6">value</span>: <span style="color:#f1fa8c">&#34;local_db&#34;</span>
</span></span><span style="display:flex;"><span>            - <span style="color:#ff79c6">name</span>: MYSQL_ALLOW_EMPTY_PASSWORD
</span></span><span style="display:flex;"><span>              <span style="color:#ff79c6">value</span>: <span style="color:#f1fa8c">&#34;yes&#34;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">resources</span>: {}
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">ports</span>:
</span></span><span style="display:flex;"><span>            - <span style="color:#ff79c6">containerPort</span>: <span style="color:#bd93f9">3306</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">volumeMounts</span>:
</span></span><span style="display:flex;"><span>            - <span style="color:#ff79c6">name</span>: mysql-initdb
</span></span><span style="display:flex;"><span>              <span style="color:#ff79c6">mountPath</span>: /docker-entrypoint-initdb.d
</span></span><span style="display:flex;"><span>            - <span style="color:#ff79c6">mountPath</span>: <span style="color:#f1fa8c">&#34;/var/lib/mysql&#34;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#ff79c6">subPath</span>: <span style="color:#f1fa8c">&#34;mysql&#34;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#ff79c6">name</span>: mysql-data
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">volumes</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#ff79c6">name</span>: mysql-initdb
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">configMap</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">name</span>: mysql-initdb-config
</span></span><span style="display:flex;"><span>        - <span style="color:#ff79c6">name</span>: mysql-data
</span></span><span style="display:flex;"><span>          <span style="color:#ff79c6">persistentVolumeClaim</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">claimName</span>: mysql-data-disk
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">apiVersion</span>: v1
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">kind</span>: ConfigMap
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">metadata</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">name</span>: mysql-initdb-config
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">data</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">init.sql</span>: |<span style="color:#f1fa8c">
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">    CREATE DATABASE IF NOT EXISTS local_db;
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">    USE local_db;
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">    create table employee (id int not null AUTO_INCREMENT primary key, first_name varchar(255), last_name varchar(255), city varchar(255),country varchar(255), mobile varchar(255));</span>    
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">apiVersion</span>: v1
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">kind</span>: PersistentVolumeClaim
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">metadata</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">name</span>: mysql-data-disk
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">accessModes</span>:
</span></span><span style="display:flex;"><span>    - ReadWriteOnce
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">resources</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">requests</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">storage</span>: 1Gi
</span></span></code></pre></div><p>Yes, the YAML above is self-explanatory. Just a few highlights</p>
<ul>
<li><code>ConfigMap</code> : A ConfigMap is not to hold large chunks of data. The data stored in a ConfigMap cannot exceed 1 MiB. If you need to store settings larger than this limit, you may want to consider mounting a volume or using a separate database or file service.</li>
<li><code>PersistentVolumeClaim</code> : A PersistentVolumeClaim (PVC) is a request for storage by a user. It is similar to a Pod. Pods consume node resources, and PVCs consume PV resources. Pods can request specific levels of resources (CPU and Memory). Claims can request size and access modes (e.g., they can be mounted ReadWriteOnce, ReadOnlyMany or ReadWriteMany, see AccessModes). While PersistentVolumeClaims allow a user to consume abstract storage resources, it is expected that users need persistent volumes with varying properties, such as performance, for different problems.</li>
</ul>
<p>Now, let us get on action</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-PowerShell" data-lang="PowerShell"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">PS </span>C:\Projects\howdykloudy&gt; minikube <span style="color:#8be9fd;font-style:italic">start
</span></span></span></code></pre></div><p><img src="/2023/01/OP8.png" alt="minkube start"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-PowerShell" data-lang="PowerShell"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">PS </span>C:\Projects\howdykloudy&gt; kubectl get pods -A
</span></span></code></pre></div><p><img src="/2023/01/OP9.png" alt="list pods"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-PowerShell" data-lang="PowerShell"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">PS </span>C:\Projects\howdykloudy&gt; minikube service podeui 
</span></span></code></pre></div><p>Access the application :)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-PowerShell" data-lang="PowerShell"><span style="display:flex;"><span>kubectl exec {<span style="color:#8be9fd;font-style:italic">POD-NAME</span>} -it --namespace <span style="color:#ff79c6">default</span> --container <span style="color:#8be9fd;font-style:italic">db-mysql</span> -- /bin/bash
</span></span></code></pre></div><p><img src="/2023/01/OP10.png" alt="list pods"></p>
<h2 id="summary">Summary</h2>
<p>I plan to extend this application and share my Kubernetes learnings. So, stay tuned to get to know more on the below</p>
<ul>
<li>Nuances of Minikube.</li>
<li>Tour of Kubectl</li>
<li>and more…..</li>
</ul>


</article><div class="bg-blue-100 dark:bg-gray-900">
  <div class="container px-4 py-12 mx-auto max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-4 items-center">
    <div>
      <div class="text-2xl font-bold mb-2">Social Networking</div>
      <p class="opacity-60">Let us stay connected to learn, share and grow!</p>
    </div>

    <ul class="flex justify-center gap-x-3 flex-wrap gap-y-2">
      

      
      <li>
        <a
          href="https://twitter.com/chendrayanv"
          target="_blank"
          rel="noopener"
          aria-label="Twitter"
          class="p-1 inline-block rounded-full border border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-800 cursor-pointer transition-colors dark:text-gray-600 dark:hover:border-gray-300 dark:hover:text-gray-300"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path
              d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"
            />
          </svg>
        </a>
      </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      
      <li>
        <a
          href="https://linkedin.com/in/chendrayanv"
          target="_blank"
          rel="noopener"
          aria-label="LinkedIn"
          class="p-1 inline-block rounded-full border border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-800 cursor-pointer transition-colors dark:text-gray-600 dark:hover:border-gray-300 dark:hover:text-gray-300"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <rect x="4" y="4" width="16" height="16" rx="2" />
            <line x1="8" y1="11" x2="8" y2="16" />
            <line x1="8" y1="8" x2="8" y2="8.01" />
            <line x1="12" y1="16" x2="12" y2="11" />
            <path d="M16 16v-3a2 2 0 0 0 -4 0" />
          </svg>
        </a>
      </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      
      <li>
        <a
          href=""
          target="_blank"
          rel="noopener"
          aria-label="GitHub"
          class="p-1 inline-block rounded-full border border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-800 cursor-pointer transition-colors dark:text-gray-600 dark:hover:border-gray-300 dark:hover:text-gray-300"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path
              d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"
            />
          </svg>
        </a>
      </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      
    </ul>
  </div>
</div>

    </main><footer class="container p-6 mx-auto flex justify-between items-center">
  <span class="text-sm font-light">
    
    Copyright © 2021 - Howdy, Kloudy! · All rights reserved
    
  </span>
  <span onclick="window.scrollTo({top: 0, behavior: 'smooth'})" class="p-1 cursor-pointer">
    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5"
      stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M18 15l-6 -6l-6 6h12" />
    </svg>
  </span>
</footer>

<div class="search-ui absolute top-0 left-0 w-full h-full bg-white dark:bg-gray-800 hidden">
  <div class="container max-w-3xl mx-auto p-12">
    <div class="relative">
      <div class="my-4 text-center text-2xl font-bold">Search</div>

      <span class="p-2 absolute right-0 top-0 cursor-pointer close-search">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <line x1="18" y1="6" x2="6" y2="18" />
          <line x1="6" y1="6" x2="18" y2="18" />
        </svg>
      </span>
    </div>

    <input type="search" class="py-2 px-3 w-full dark:text-black border dark:border-transparent"
      placeholder="Enter search query" />

    <div class="search-results text-lg font-medium my-4 hidden">Results</div>
    <ul class="search-list my-2">

    </ul>

    <div class="no-results text-center my-8 hidden">
      <div class="text-xl font-semibold mb-2">No results found</div>
      <p class="font-light text-sm">Try adjusting your search query</p>
    </div>
  </div>
</div>





<script src="/js/scripts.min.js"></script>






<script>
  
  const darkmode = document.querySelector('.toggle-dark-mode');
  function toggleDarkMode() {
    if (document.documentElement.classList.contains('dark')) {
      document.documentElement.classList.remove('dark')
      localStorage.setItem('darkmode', 'light')
    } else {
      document.documentElement.classList.add('dark')
      localStorage.setItem('darkmode', 'dark')
    }
  }
  if (darkmode) {
    darkmode.addEventListener('click', toggleDarkMode);
  }

  const darkStorage = localStorage.getItem('darkmode');
  const isBrowserDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

  if (!darkStorage && isBrowserDark) {
    document.documentElement.classList.add('dark');
  }

  if (darkStorage && darkStorage === 'dark') {
    toggleDarkMode();
  }
</script>


<script>
  const mobileMenuButton = document.querySelector('.mobile-menu-button')
  const mobileMenu = document.querySelector('.mobile-menu')
  function toggleMenu() {
    mobileMenu.classList.toggle('hidden');
    mobileMenu.classList.toggle('flex');
  }
  if(mobileMenu && mobileMenuButton){
    mobileMenuButton.addEventListener('click', toggleMenu)
  }
</script>
</body>
</html>
